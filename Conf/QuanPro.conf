# Update 2023-05-28, 22:49

[general]
# General æ¨¡å—å†…ä¸ºä¸€äº›é€šç”¨çš„è®¾ç½®å‚æ•°é¡¹

# Quantumult X ä¼šå¯¹ server_check_url æŒ‡å®šçš„ç½‘å€è¿›è¡Œç›¸åº”æµ‹è¯•ï¼Œä»¥ç¡®è®¤èŠ‚ç‚¹çš„å¯ç”¨æ€§
# ä½ åŒæ ·å¯ä»¥åœ¨ server_local/remote ä¸­ï¼Œä¸ºèŠ‚ç‚¹ã€è®¢é˜…å•ç‹¬æŒ‡å®šserver_check_urlå‚æ•°
server_check_url= http://www.qualcomm.cn/generate_204

# èµ„æºè§£æå™¨ï¼Œå¯ç”¨äºè‡ªå®šä¹‰å„ç±»è¿œç¨‹èµ„æºçš„è½¬æ¢ï¼Œå¦‚èŠ‚ç‚¹ï¼Œè§„åˆ™ filterï¼Œå¤å†™ rewrite
# ä¸‹é¢æ˜¯æˆ‘å†™çš„ä¸€ä¸ªè§£æå™¨ï¼Œå…·ä½“å†…å®¹ç›´æ¥å‚ç…§é“¾æ¥é‡Œçš„ä½¿ç”¨è¯´æ˜
resource_parser_url= https://raw.githubusercontent.com/KOP-XIAO/QuantumultX/master/Scripts/resource-parser.js
# æœåŠ¡å™¨æµ‹è¯•è¶…æ—¶æ—¶é—´ (æ¯«ç§’)
server_check_timeout = 3000
#  geo_location_checkerç”¨äºèŠ‚ç‚¹é¡µé¢çš„èŠ‚ç‚¹ä¿¡æ¯å±•ç¤ºï¼Œå¯å®Œæ•´è‡ªå®šä¹‰å±•ç¤ºå†…å®¹ä¸æ–¹å¼
geo_location_checker=http://ip-api.com/json/?lang=zh-CN, https://raw.githubusercontent.com/KOP-XIAO/QuantumultX/master/Scripts/IP_API.js

# extreme-ip-lookup ä¸ºQuantumult X ä½œè€…æä¾›çš„ç¤ºèŒƒ api
# geo_location_checker=http://extreme-ip-lookup.com/json/, https://raw.githubusercontent.com/crossutility/Quantumult-X/master/sample-location-with-script.js
# ä¸‹é¢æ˜¯æˆ‘æ‰€ä½¿ç”¨çš„ api åŠè·å–ã€å±•ç¤ºèŠ‚ç‚¹ä¿¡æ¯çš„ js

# running_mode_trigger
# è¿è¡Œæ¨¡å¼æ¨¡å—ï¼Œå³æ ¹æ®ç½‘ç»œè‡ªåŠ¨åˆ‡æ¢ åˆ†æµ/ç›´è¿/å…¨å±€ä»£ç† ç­‰æ¨¡å¼ã€‚

# running-mode-trigger æ¨¡å¼ä¸‹ï¼Œè·Ÿæ‰‹åŠ¨åˆ‡æ¢ç›´è¿/å…¨å±€ä»£ç† ç­‰æ•ˆï¼Œrewrite/task æ¨¡å—å§‹ç»ˆä¼šç”Ÿæ•ˆï¼Œæ¯” ssid ç­–ç•¥ç»„è®¾ç½®ç®€å•ï¼Œæ¯” ssid-suspend æ›´çµæ´»ã€‚
# running_mode_trigger=filter, filter, asus-5g:all_direct, asus: all_proxy
# ä¸Šè¿°å†™æ³•ï¼Œå‰ä¸¤ä¸ª filter è¡¨ç¤º åœ¨ 4G ç½‘ç»œè·Ÿä¸€èˆ¬ Wi-Fi ä¸‹ï¼Œèµ° filter(åˆ†æµ)æ¨¡å¼ï¼Œasus-5g åˆ™åˆ‡æ¢ä¸ºå…¨å±€ç›´è¿ï¼Œasus åˆ‡æ¢ä¸ºå…¨å±€ä»£ç†
# å¦‚éœ€ä½¿ç”¨ï¼Œç›¸åº” SSID æ¢æˆä½ è‡ªå·± Wi-Fi åå³å¯

# ssid_suspended_list
# è®© Quantumult X åœ¨ç‰¹å®š Wi-Fi ç½‘ç»œä¸‹æš‚åœå·¥ä½œ(ä»… task æ¨¡å—ä¼šç»§ç»­å·¥ä½œ)ï¼Œå¤šä¸ªWi-Fiç”¨â€œ,â€è¿æ¥
# ssid_suspended_list=Asus, Shawn-Wifi

# dns_exclusion_list
# åˆ—è¡¨ä¸­çš„åŸŸåå°†ä¸ä½¿ç”¨fake-ipæ–¹å¼. å…¶å®ƒåŸŸååˆ™å…¨éƒ¨é‡‡ç”¨ fake-ip åŠè¿œç¨‹è§£æçš„æ¨¡å¼
# dns_exclusion_list=*.qq.com, qq.com

# å‚æ•° udp_whitelist ä» IP å±‚æ§åˆ¶ UDP æ•°æ®æ˜¯å¦éœ€è¦èˆå¼ƒï¼›å¦‚èˆå¼ƒï¼Œåˆ™è¯¥ UDP è¯·æ±‚ä¸ä¼šè¿›å…¥è§„åˆ™æ¨¡å—ä»¥åŠç­–ç•¥æ¨¡å—ï¼ŒTCP/UDP è¯·æ±‚è®°å½•ä¸­ä¹Ÿä¸ä¼šæœ‰ç›¸åº”çš„æ¡ç›®ï¼Œä½†ä»å¯åœ¨æ—¥å¿—ä¸­æŸ¥è¯¢åˆ°ç›¸å…³ä¿¡æ¯ï¼ˆæ—¥å¿—ç­‰çº§ debugï¼‰ã€‚
# è¯¥å‚æ•°æ§åˆ¶çš„æ˜¯æµå…¥ Quantumult X Tunnel çš„è¯·æ±‚ï¼Œå¹¶é Quantumult X Tunnel å‘å‡ºçš„è¯·æ±‚ï¼Œå³ä¸ä¼šä½œç”¨äºèŠ‚ç‚¹æ‰€ä½¿ç”¨çš„ UDP ç›®æ ‡ç«¯å£ã€‚
udp_whitelist=53, 123, 1900, 80-443

# excluded_routes æ’é™¤è·¯ç”±
# ä¸‹åˆ—è¡¨ä¸­çš„å†…å®¹å°†ä¸ç»è¿‡ QuantumultX çš„å¤„ç†
excluded_routes= 192.168.0.0/16, 172.16.0.0/12, 100.64.0.0/10, 10.0.0.0/8
icmp_auto_reply=true

[server_local]


[server_remote]

#è¿œç¨‹æœåŠ¡å™¨è®¢é˜…æ¨¡å—ï¼Œå¯ç›´æ¥è®¢é˜…SSRï¼ŒSSé“¾æ¥ï¼Œä»¥åŠQuantumult Xæ ¼å¼çš„vmess/trojan/httpsè®¢é˜…
#å…¶å®ƒæ ¼å¼å¯ç”¨ opt-parser å‚æ•°å¼€å¯è§£æå™¨å¯¼å…¥ä½¿ç”¨
#img-urlå‚æ•°ç”¨äºæŒ‡å®šå›¾æ ‡ï¼Œæ ¼å¼è¦æ±‚åŒæ ·ä¸º 108*108 çš„ png å›¾ç‰‡ï¼Œå¯è¿œç¨‹ï¼Œå¯æœ¬åœ°

#æ”¯æŒæœ¬åœ°/iCloudçš„èŠ‚ç‚¹æ–‡ä»¶ï¼Œä½äºQuantumult X/Profilesè·¯å¾„ä¸‹
# servers.txt, tag=æœ¬åœ°æœåŠ¡å™¨, img-url=https://raw.githubusercontent.com/crossutility/Quantumult-X/master/quantumult-x.png, enabled=false

[dns]
# æ­¤éƒ¨åˆ†é…ç½® DNS æœåŠ¡å™¨
doh-server=https://dns.alidns.com/dns-query,https://doh.pub/dns-query

# ç¦ç”¨ç³»ç»Ÿ DNS æœåŠ¡
no-system
# ä¸ºäº†æé«˜æ€§èƒ½ï¼Œä¼šä½¿ç”¨ä»å½“å‰ç½‘ç»œ(ç³»ç»Ÿ)ä¸­è·å–çš„ DNS æœåŠ¡å™¨(æ‚¨å¯ä»¥ä½¿ç”¨ã€Œno-systemã€ç¦ç”¨æ­¤åŠŸèƒ½ï¼Œä½†è‡³å°‘è¦å¢åŠ ä¸€ä¸ªè‡ªå®šä¹‰çš„ DNS æœåŠ¡å™¨ã€‚
# ç¦ç”¨ IPv6
# no-ipv6
# Router Admin Panel
server=/amplifi.lan/system
server=/router.synology.com/system
server=/sila.razer.com/system
server=/router.asus.com/system
server=/routerlogin.net/system
server=/orbilogin.com/system
server=/www.LinksysSmartWiFi.com/system
server=/LinksysSmartWiFi.com/system
server=/myrouter.local/system
server=/www.miwifi.com/system
server=/miwifi.com/system
server=/mediarouter.home/system
server=/tplogin.cn/system
server=/tplinklogin.net/system
server=/melogin.cn/system
server=/falogin.cn/system

# æœ¬åœ° DNS æ˜ å°„ / Hosts
# Firebase Cloud Messaging
# address=/mtalk.google.com/108.177.125.188

[filter_local]
# Local Area Network å±€åŸŸç½‘
host-suffix, local, direct
ip-cidr, 192.168.0.0/16, direct
ip-cidr, 10.0.0.0/8, direct
ip-cidr, 172.16.0.0/12, direct
ip-cidr, 127.0.0.0/8, direct
ip-cidr, 100.64.0.0/10, direct
ip-cidr, 224.0.0.0/4, direct
ip6-cidr, fe80::/10, direct
# Applications
# Safari è®¿é—®é˜²è·³è½¬ App
#ä¸åœ¨ä¸Šè¿°è§„åˆ™ä¸­(è¿œç¨‹ä»¥åŠæœ¬åœ°)çš„å‰©ä½™è¯·æ±‚ï¼Œå°†èµ°final æŒ‡å®šçš„èŠ‚ç‚¹/ç­–ç•¥ï¼Œè¿™é‡Œå³æ˜¯ â†’ ç»ˆææ¸…å•, è¯·æ ¹æ®è‡ªå·±çš„éœ€æ±‚æ¥é€‰æ‹©ç›´è¿æˆ–èŠ‚ç‚¹ã€ç­–ç•¥
final, Final
geoip, cn, direct
[filter_remote]
#è§„åˆ™åˆ†æµè¿œç¨‹è®¢é˜…
#è¿œç¨‹åˆ†æµæ¨¡å—ï¼Œå¯ä½¿ç”¨force-policyæ¥å¼ºåˆ¶ä½¿ç”¨ç­–ç•¥åå¥½, æ›¿æ¢è¿œç¨‹è§„åˆ™å†…æ‰€æŒ‡å®šçš„ç­–ç•¥ç»„
# update-interval ä¸ºæ›´æ–°æ—¶é—´å‚æ•°ï¼Œå•ä½ ç§’, é»˜è®¤æ›´æ–°æ—¶é—´ä¸º 24*60*60=86400 ç§’ï¼Œä¹Ÿå°±æ˜¯24å°æ—¶.
# opt-parser=true/false ç”¨äºæ§åˆ¶æ˜¯å¦å¯¹æœ¬è®¢é˜… å¼€å¯èµ„æºè§£æå™¨ï¼Œä¸å†™æˆ–è€… false è¡¨ç¤ºä¸å¯ç”¨
https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/QuantumultX/Direct/Direct.list, tag=Direct, force-policy=direct, update-interval=86400, opt-parser=false, enabled=true
https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/QuantumultX/Apple/Apple.list, tag=Apple, force-policy=Apple, update-interval=86400, enabled=true
https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/QuantumultX/Netflix/Netflix.list, tag=Netflix, force-policy=Netflix, update-interval=86400, enabled=true
https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/QuantumultX/YouTube/YouTube.list, tag=YouTube, force-policy=YouTube, update-interval=86400, enabled=true
https://raw.githubusercontent.com/Maverricka/Rule/main/Conf/Rule/OpenAI.list, tag=OpenAI, force-policy=OpenAI, update-interval=172800, opt-parser=false, enabled=true
https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/QuantumultX/Telegram/Telegram.list, tag=Telegram, force-policy=Telegram, update-interval=86400, enabled=true
https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/QuantumultX/Cloudflare/Cloudflare.list, tag=Cloudflare, force-policy=Cloudflare, update-interval=86400, enabled=true
https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/QuantumultX/China/China.list,tag=China, force-policy=China, update-interval=86400, enabled=true
https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/QuantumultX/ChinaIPs/ChinaIPs.list,tag=ChinaIPs, force-policy=China, update-interval=86400, enabled=true

[policy]
#ä»¥ä¸‹ä¸ºç­–ç•¥ç»„[policy]éƒ¨åˆ†
# static ç­–ç•¥ç»„ä¸­ï¼Œä½ éœ€è¦æ‰‹åŠ¨é€‰æ‹©æƒ³è¦çš„èŠ‚ç‚¹/ç­–ç•¥ç»„ã€‚
# available ç­–ç•¥ç»„å°†æŒ‰é¡ºåºé€‰æ‹©ä½ åˆ—è¡¨ä¸­ç¬¬ä¸€ä¸ªå¯ç”¨çš„èŠ‚ç‚¹ã€‚
# round-robin ç­–ç•¥ç»„ï¼Œå°†æŒ‰åˆ—è¡¨çš„é¡ºåºè½®æµä½¿ç”¨å…¶ä¸­çš„èŠ‚ç‚¹ã€‚
# ssid ç­–ç•¥ç»„ï¼Œå°†æ ¹æ®ä½ æ‰€è®¾å®šçš„ç½‘ç»œæ¥è‡ªåŠ¨åˆ‡æ¢èŠ‚ç‚¹/ç­–ç•¥ç»„
# img-url å‚æ•°ç”¨äºæŒ‡å®šç­–ç•¥ç»„å›¾æ ‡ï¼Œå¯è¿œç¨‹ï¼Œä¹Ÿå¯æœ¬åœ°/iCloud(Quantumult X/Imagesè·¯å¾„ä¸‹) ï¼ˆ108*108 å¤§å°ï¼‰
# direct/proxy/reject åˆ™åªèƒ½ç”¨æœ¬åœ°å›¾æ ‡ï¼Œåå­—åˆ†åˆ«ä¸º direct.png, proxy.png,reject.png æ”¾ç½®äº Images æ–‡ä»¶å¤¹ä¸‹å³å¯ç”Ÿæ•ˆ (108*108 å¤§å°)
url-latency-benchmark=HK, server-tag-regex=(ğŸ‡­ğŸ‡°)|(æ¸¯)|(Hong)|(HK), check-interval=600, tolerance=50, img-url=https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Hong_Kong.png
url-latency-benchmark=TW, server-tag-regex=(ğŸ‡¨ğŸ‡³)|(å°)|(Tai)|(TW), check-interval=600, tolerance=50, img-url=https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Taiwan.png
url-latency-benchmark=JP, server-tag-regex=(ğŸ‡¯ğŸ‡µ)|(æ—¥)|(Japan)|(JP), check-interval=600, tolerance=50, img-url=https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Japan.png
url-latency-benchmark=SG, server-tag-regex=(ğŸ‡¸ğŸ‡¬)|(æ–°)|(Singapore)|(SG), check-interval=600, tolerance=50, img-url=https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Singapore.png
url-latency-benchmark=US, server-tag-regex=(ğŸ‡ºğŸ‡¸)|(ç¾)|(States)|(US), check-interval=600, tolerance=50, img-url=https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/United_States.png
static=OpenAI_Tactics, server-tag-regex=(?i)(å·´è¥¿)|(åœŸè€³å…¶)|(æ²™ç‰¹)|(é©¬æ¥è¥¿äºš)|(æ–°åŠ å¡)|(å¡)|(ç‹®åŸ)|(SG)|(Singapore), img-url=https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Auto.png
static=Apple, HK, TW, JP, SG, US, proxy, direct,  img-url=https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Apple.png
static=Netflix, HK, TW, JP, SG, US, img-url=https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Netflix_Letter.png
static=YouTube, HK, TW, JP, SG, US, img-url=https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/YouTube_Letter.png
static=OpenAI, OpenAI_Tactics, img-url=https://fastly.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/SSID_1.png
static=Telegram, HK, SG, US, TW, JP, proxy, direct, img-url=https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Telegram.png
static=Cloudflare, HK, SG, US, TW, JP, proxy, direct, img-url=https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Cloudflare.png
static=China,direct,img-url=https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/China.png
static=Final, proxy, direct, img-url=https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Final.png

[rewrite_remote]
[rewrite_local]
# æ”¯æŒæœ¬åœ°/iCloudçš„å¤å†™è§„åˆ™æ–‡ä»¶ï¼Œä½äº Quantumult X/Profiles è·¯å¾„ä¸‹
# rewrite.txt, tag=æœ¬åœ°å¤å†™, opt-parser=false, enabled=false
# è¿œç¨‹å¤å†™æ¨¡å—ï¼Œå†…åŒ…å«ä¸»æœºå hostname ä»¥åŠå¤å†™ rewrite è§„åˆ™
# update-interval æ›´æ–°æ—¶é—´å‚æ•° å•ä½(ç§’) 
# opt-parser=true/false
[task_local]
# ä»»åŠ¡æ¨¡å—ï¼Œå¯ç”¨äºç­¾åˆ°,å¤©æ°”è¯è´¹æŸ¥è¯¢ç­‰
# jsæ–‡ä»¶æ”¾äºiCloudæˆ–è€…æœ¬æœºçš„Quantumult X/Scripts è·¯å¾„ä¸‹ã€‚TFç‰ˆæœ¬å¯ç›´æ¥ä½¿ç”¨è¿œç¨‹jsé“¾æ¥
# ä» â€œåˆ†â€ å¼€å§‹çš„5ä½cron å†™æ³•ï¼Œå…·ä½“ cron è¡¨è¾¾å¼å¯è‡ªè¡Œ Google
# æ¯”å¦‚ä¸Šè¿°è¯­å¥ ä»£è¡¨æ¯å¤© 12 ç‚¹ 2 åˆ†ï¼Œè‡ªåŠ¨æ‰§è¡Œä¸€æ¬¡# 
# tagå‚æ•°ä¸º task å‘½åæ ‡è¯†# 
# img-urlå‚æ•°ç”¨äºæŒ‡å®š task çš„å›¾æ ‡(108*108)
# Googleåˆ‡æ¢
event-interaction https://raw.githubusercontent.com/KOP-XIAO/QuantumultX/master/Scripts/switch-check-google.js, tag=Google åˆ‡æ¢, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Google.png, enabled=false
# æµåª’ä½“æœåŠ¡æŸ¥è¯¢
event-interaction https://raw.githubusercontent.com/KOP-XIAO/QuantumultX/master/Scripts/streaming-ui-check.js, tag=æµåª’ä½“æœåŠ¡æŸ¥è¯¢, img-url=checkmark.seal.system, enabled=false
[mitm]
# skip_validating_cert = false
# force_sni_domain_name = false
